# テーブル定義書1
## 全体
- Railsで自動生成されるidが考慮されていない。
 （テーブル名idではなくidとする）
　idにはデフォルトでNOT NULL,AUTO INCREMENT,INDEXが
　付与されている。FKも同様。
- 配送先テーブルがない。
- 入荷テーブルがない。
- created_at,updated_atが全てユーザ登録日時、ユーザ更新日時と
　なっている。
- テーブル名は複数系を使う。
- カラム名の頭にテーブル名を付ける必要はあるか。（テーブル名から判断できる）

## Admin
- PKがない。

## Users
- user_l_nameのカラム説明は名前（性）ではなく名前（姓）
　user_l_kanaも同様に名前（姓カナ）
- user_f_name,user_f_kanaにNOT NULLを付けていないのはなぜか。
　（名前も登録させた方がデータとして取り扱いやすいのではないか）
- 郵便番号、電話番号は数値ではなく数字の並びの為、integer型では
　取り扱えない。（090など0で始まる場合に使えない）
- 退会ステータスをTRUE,FALSEで取り扱いたい場合、データ型はboolean型を
　使い、備考欄にTRUE,FALSEでどうデータを取り扱うのかを明示する。
 （TRUEの場合、ログインできない等）
- 配送先住所はUsersテーブルで取り扱うのではなく、別テーブルを用意して取り扱う。

## Products
- disc_idは不要。
- ジャンルID、レーベルID、アーティストIDはFKに当たる。
- DEFAULTは画像準備中という文字列を出すのか。それとも準備中という画像を出すのか。
- 在庫数カラムとあるが、この値は（入荷数）ー（売上枚数）で算出される値。 
　基本的にデータベースには計算ずみの値ではなく、計算前の値を保存させる。
 （同時計算による、エラーを防ぐため。）
- 在庫ステータスとは何か。在庫数が0になれば表示しないなどすれば良い。
- 販売状況に関するカラムがない。

## Discs
- トラックNo.とは何か。
　（曲順を扱いたい場合、Discsテーブルではなく、Songsテーブルにカラムを用意する）
- products_idではなく、product_idにすべき。
- disc番号を管理するカラムが必要。

## Songs,Labels,Artists,Genre
- PKがない。
- テーブル名と同じ名前のカラムは作らない。
　テーブル名から判別できるためnameなどとすれば良い。

## Cart item
- PKがない。
- products_idではなく、product_idにすべき。
- 小計金額は不要。（数量と価格から算出できる）
- buy numではなくbuy_numとする。（複数の単語を並べたい場合、_が必要）

## Songs
- 曲名は文字列になるのでinteger型ではなく、string型。
- 曲順はどうやって管理するのか。

## Labels,Artists,Genre
- product_idは不要。

## Artists,Genre
- アーティスト名、ジャンル名は文字列になるため、integer型ではなくstring型を使う。

## Buy details,Buy
- テーブル名は管理者視点の命名にする。
　（Order detail,Order等）

## Buy detail 
- 商品情報を保存するカラムがない。
　（価格など商品情報が変更された場合に、購入時の情報を見るために必要）
- FKに購入IDを持ってくる。
- buy numではなくbuy_numとする。（複数の単語を並べたい場合、_が必要）

## Buy
- 購入詳細IDは不要。
- 購入日はcreated_atから出せるため不要。
- 支払い合計カラムの命名はpay_totalなどにすべき。
　（stockは在庫という意味になる）
- 支払い方法がstring型となっており、enumを考慮していない。
- 送付先住所はあるが、郵便番号と住所がない。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# フィードバック1回目
[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント（修正ではないけど、確認して欲しいポイントです）

## 全体
- テーブル毎にシートを分ける。
[comment]→これに関しては必須ではないので、どちらでもいいです！
- [comment]→各テーブルごとに指摘してくれてますが、カラム名の接頭辞にテーブル名から判断できるワードが含まれてるケース（usersテーブルのuser_emialなど）は全体的に散乱してるので、全体への指摘に含めてもいいかもです。


## Users
- [add]→全体への指摘で、配送先テーブルについて触れているが、ここでは、配送先住所カラムの不要性について述べることがベター

## Products
- [add]→カラム名の接頭辞にテーブル名から判断できるワードが含まれてるケースあり。
- ジャケット画像はtext型で扱うのか。（refileを使用する場合、string型になる）
　[fix]→refileの画像idについてはstringもしくはtextが推奨されるのでtextでも問題はないです。（画像のidが長いためtextでもいいという考え方）
 

## Discs
- [add]→カラム名の接頭辞にテーブル名から判断できるワードが含まれてるケースあり。
- [add]→products_idではなく、product_idにすべき。
- [add]→disk番号を管理するカラムが必要

## Songs,Labels,Artists,Genre
- テーブル名と同じ名前のカラムは作らない。
　（song_name,label_name,artist_nameなどとする）
 [fix]→全体への指摘に述べた通り、テーブル名とカラムに同じワードを含めない。そのため、ただnameカラムとすればオーケー
 - [add]→products_idではなく、product_idにすべき。
 
## cart item[add]
- [add]→products_idではなく、product_idにすべき。
- [add]→buy numの意味が不明。_(アンダースコア)をつけてない。
- [add]→小計金額は不要（数量と商品の価格から算出可能）。
- [add]→pkがない


## Buy deatail 
- [add]→　buy numの意味が不明確

## Buy
- [add]→支払い方法がstringになっており、enumを考慮してない。
- [add]→送付先住所はあるが、郵便番号と住所がない。


# フィードバック2回目
## label、artist、genre
- product_idは不要です。


# フィードバック3回目
合格です！
