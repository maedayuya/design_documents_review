# テーブル定義書1
## 全体
- Railsで自動生成されるidが考慮されていない。
 （テーブル名idではなくidとする）
　idにはデフォルトでNOT NULL,AUTO INCREMENT,INDEXが
　付与されている。FKも同様。
  > Railsで自動で作成されるカラム(id, created_at, updated_at)に関しても考慮して記載してください。
   PKはテーブル名IDではなくIDとなります。また、PK,FKにはデフォルトでNOT NULL,AUTO INCREMENT,INDEXが
   付与されていますのでそちらの記載もお願いします。
- 配送先テーブルがない。
  > エンドユーザが複数配送先を持ちたい場合はどうしますか？
- 入荷テーブルがない。
  > 入荷に関するデータはどこで取り扱いますか？
- created_at,updated_atが全てユーザ登録日時、ユーザ更新日時と
　なっている。
  > created_at,updated_atのカラム説明が全てユーザ登録日時、ユーザ更新日時と
   なっていますので、見直してください。
- テーブル名は複数系を使う。
  > テーブル名の命名は複数形を使ってください。
- カラム名の頭にテーブル名を付ける必要はあるか。（テーブル名から判断できる）
  > カラム名の頭にテーブル名をつけているものがありますが、こちらテーブル名から
   判別できますので不要です。
## Admin
- PKがない。
  > PKが記載されていません。

## Users
- user_l_nameのカラム説明は名前（性）ではなく名前（姓）
　user_l_kanaも同様に名前（姓カナ）
  > user_l_nameのカラム説明が名前（性）となっていますが、
   正しくは名前（姓）です。user_l_kanaの方も同様に誤字がありますので
   修正お願いします。
- user_f_name,user_f_kanaにNOT NULLを付けていないのはなぜか。
　（名前も登録させた方がデータとして取り扱いやすいのではないか）
  > user_f_name,user_f_kanaにNOT NULLを付けていませんが、どういった理由からでしょうか？
   名前に関しても登録必須にした方がデータとして取り扱いやすいのではないかと思います。
- user_l_name,user_f_nameというカラム名が分かりづらい。
  > カラム名に省略形を使うと分かりづらくなるのでlast_name,first_nameなど省略せずに
   命名するようにしてください。
- 郵便番号、電話番号は数値ではなく数字の並びの為、integer型では
　取り扱えない。（090など0で始まる場合に使えない）
  > 郵便番号、電話番号は数値ではなく数字の並びになるので、integer型では
   取り扱えない場合が出てきます。データ型を見直してください。
- 退会ステータスをTRUE,FALSEで取り扱いたい場合、データ型はboolean型を
　使い、備考欄にTRUE,FALSEでどうデータを取り扱うのかを明示する。
 （TRUEの場合、ログインできない等）
  > 退会ステータスのDEFAULTがFALSEとなっていますが、データをTRUE,FALSEで
   取り扱いたい場合、データ型はboolean型を使ってください。
   また、備考欄にTRUEの場合どうするか明記するようにお願いします。
- 配送先住所はUsersテーブルで取り扱うのではなく、別テーブルを用意して取り扱う。
  > エンドユーザが複数配送先を持ちたい場合も考慮して、配送先住所は別テーブルで
   取り扱うようにしてください。

## Products
- disc_idは不要。
  > 商品が親、ディスクが子になるので、こちらにディスクIDは不要です。
   リレーションを作る際、子が親のIDを持つ必要があります。
- ジャンルID、レーベルID、アーティストIDはFKに当たる。
  > ジャンルID、レーベルID、アーティストIDは外部キーではないでしょうか。
   外部キーのものにはFKをつけてください。
- DEFAULTは画像準備中という文字列を出すのか。それとも準備中という画像を出すのか。
  > ジャケット画像のDEFAULTを画像準備中としていますが、データが入っていない際に
   画像準備中という文字列を出すという設計でしょうか？それとも、画像準備中という画像を
   用意してそれを表示させるのでしょうか？
- 在庫数カラムとあるが、この値は（入荷数）ー（売上枚数）で算出される値。 
　基本的にデータベースには計算ずみの値ではなく、計算前の値を保存させる。
 （同時計算による、エラーを防ぐため。）
  > 在庫数カラムとありますが、こちら商品の入荷数と売上枚数から算出できるため不要です。
   基本的にデータベースには同時計算によるエラーを防ぐため、計算済みの値は入れず計算前の値を保存します。
- 在庫ステータスとは何か。在庫数が0になれば表示しないなどすれば良い。
  > 在庫ステータスは在庫数が0かどうかで判別できるため不要です。
- 販売状況に関するカラムがない。
  > 販売状況に関してはどのように取り扱いますか？

## Discs
- トラックNo.とは何か。
　（曲順を扱いたい場合、Discsテーブルではなく、Songsテーブルにカラムを用意する）
- disc番号を管理するカラムが必要。
  > トラックNo.カラムとありますが、こちらどういったカラムでしょうか。
   ディスク番号を管理するカラムでしたら、その旨が分かるような命名をお願いします。
- products_idではなく、product_idにすべき。
  > 商品IDはproducts_idではなくproduct_idです。
   idは一意なので単数形で作られます。

## Songs,Labels,Artists,Genre
- PKがない。
  > PKが記載されていません。 
- テーブル名と同じ名前のカラムは作らない。
　テーブル名から判別できるためnameなどとすれば良い。
  > テーブル名と同じ名前のカラムは作らないでください。カラム名の見直しをお願いします。
## Cart item
- PKがない。
- products_idではなく、product_idにすべき。
  > 商品IDはproducts_idではなくproduct_idです。
   idは一意なので単数形で作られます。
- 小計金額は不要。（数量と価格から算出できる）
  > 小計金額は商品の数量と価格から算出できるため不要です。
- buy numではなくbuy_numとする。（複数の単語を並べたい場合、_が必要）
  > カラム名に空白は使えません。_をつけてbuy_numとしてください。

## Songs
- 曲名は文字列になるのでinteger型ではなく、string型。
  > 曲名は数字で登録しますか？文字列で登録したい場合、データ型を見直す必要があります。
- 曲順はどうやって管理するのか。
  > 曲順はどのように管理しますか？
## Labels,Artists,Genre
- product_idは不要。
  > 一つのレーベル、アーティスト、ジャンルに対して複数の商品があるため、
   こちらが親となります。そのため、こちらに商品IDは不要です。
## Artists,Genre
- アーティスト名、ジャンル名は文字列になるため、integer型ではなくstring型を使う。
  > アーティスト名、ジャンル名は数字で登録しますか？文字列で登録したい場合、データ型を見直す必要があります。

## Buy details,Buy
- テーブル名は管理者視点の命名にする。
　（Order detail,Order等）
  > テーブル名の命名は管理者視点で行なってください。
   受注、受注詳細などとすると良いです。
## Buy detail 
- 商品情報を保存するカラムがない。
　（価格など商品情報が変更された場合に、購入時の情報を見るために必要）
  > 購入した商品の情報はどこから見れますか？
   また、購入後に商品情報が変わった場合にも購入時の情報が保持できるように
   してください。
- FKに購入IDを持ってくる。
  > 購入が親、購入詳細が子となるため購入IDが必要です。
- buy numではなくbuy_numとする。（複数の単語を並べたい場合、_が必要）
  > カラム名に空白は使えません。_をつけてbuy_numとしてください。

## Buy
- 購入詳細IDは不要。
  > 購入が親、購入詳細が子となるため、購入詳細IDは不要です。
- 購入日はcreated_atから出せるため不要。
  > 購入日カラムとありますが、こちらRailsで自動作成されるカラムcreated_atと内容が一致するため不要です。
- 支払い合計カラムの命名はpay_totalなどにすべき。
　（stockは在庫という意味になる）
  > 支払い合計カラムの命名がstockとなっていますが、stockは在庫という意味になります。
   カラム名の命名の見直しをお願いします。
- 支払い方法がstring型となっており、enumを考慮していない。
  > 支払い方法がstring型となっていますが、支払い方法は銀行振込、代引き、
   クレジットカードの３つから選択するためenumを用いて選択できるようにしてください。
- 送付先住所はあるが、郵便番号、電話番号、宛名がない。
  > 送付先に関する郵便番号、電話番号、宛名の情報が足りていません。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


# フィードバック1回目
[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント（修正ではないけど、確認して欲しいポイントです）

## 全体
- テーブル毎にシートを分ける。
[comment]→これに関しては必須ではないので、どちらでもいいです！
- [comment]→各テーブルごとに指摘してくれてますが、カラム名の接頭辞にテーブル名から判断できるワードが含まれてるケース（usersテーブルのuser_emialなど）は全体的に散乱してるので、全体への指摘に含めてもいいかもです。


## Users
- [add]→全体への指摘で、配送先テーブルについて触れているが、ここでは、配送先住所カラムの不要性について述べることがベター

## Products
- [add]→カラム名の接頭辞にテーブル名から判断できるワードが含まれてるケースあり。
- ジャケット画像はtext型で扱うのか。（refileを使用する場合、string型になる）
　[fix]→refileの画像idについてはstringもしくはtextが推奨されるのでtextでも問題はないです。（画像のidが長いためtextでもいいという考え方）
 

## Discs
- [add]→カラム名の接頭辞にテーブル名から判断できるワードが含まれてるケースあり。
- [add]→products_idではなく、product_idにすべき。
- [add]→disk番号を管理するカラムが必要

## Songs,Labels,Artists,Genre
- テーブル名と同じ名前のカラムは作らない。
　（song_name,label_name,artist_nameなどとする）
 [fix]→全体への指摘に述べた通り、テーブル名とカラムに同じワードを含めない。そのため、ただnameカラムとすればオーケー
 - [add]→products_idではなく、product_idにすべき。
 
## cart item[add]
- [add]→products_idではなく、product_idにすべき。
- [add]→buy numの意味が不明。_(アンダースコア)をつけてない。
- [add]→小計金額は不要（数量と商品の価格から算出可能）。
- [add]→pkがない


## Buy deatail 
- [add]→　buy numの意味が不明確

## Buy
- [add]→支払い方法がstringになっており、enumを考慮してない。
- [add]→送付先住所はあるが、郵便番号と住所がない。


# フィードバック2回目
## label、artist、genre
- product_idは不要です。


# フィードバック3回目
合格です！
