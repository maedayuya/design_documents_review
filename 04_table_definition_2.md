# テーブル定義書2
## 全体
- Railsで自動生成されるidが考慮されていない。
 （テーブル名idではなくidとする）
- idにはデフォルトでNOT NULL,AUTO INCREMENT,INDEXが
　付与されている。FKも同様。
  > Railsで自動で作成されるカラム(id, created_at, updated_at)に関しても考慮して記載してください。
   PKはテーブル名IDではなくIDとなります。また、PK,FKにはデフォルトでNOT NULL,AUTO INCREMENT,INDEXが
   付与されていますのでそちらの記載もお願いします。
- 入荷テーブルがない。
  > 入荷に関するデータはどこで取り扱いますか？
- カラム名の頭にテーブル名を付ける必要はない。（テーブル名から判別できる）
  > カラム名の頭にテーブル名をつけているものがありますが、こちらテーブル名から
   判別できますので不要です。

## admins
- created_at,updated_atのカラム説明が管理人となっているが、
　idの方では管理者と記載しているので管理者もしくは管理人に統一する。
  > created_at,updated_atのカラム説明が管理人となっていますが、
　 idの方では管理者と記載しているので管理者もしくは管理人に統一してください。
  
## users
- 名前（性）ではなく（姓）
  > 名前（性）ではなく（姓）です。
- カラム名に略語は使わない方が良い。
  > user_l_nameなどカラム名に略語を使うと分かりづらいため、
   省略せずに命名するようにお願いします。
- member_statusだと何を表しているのか分かりづらい。
  > member_statusだと何を表しているカラムなのか分かりづらいため、
   カラム名の見直しをお願いします。カラム命名に困る際、codicというwebアプリを
   使用することを推奨します。
- member_statusをinteger型でenumを使って取り扱うとしているが、
　TRUE,FALSEでデータを取り扱いたい場合、データ型はboolean型を使う。
　また、備考欄にそれぞれTRUE,FALSEでデータをどのように取り扱うのかを記載する。
  > member_statusをinteger型でenumを使って取り扱うとしており、
   DEFAULTをFALSEとしていますが、データをTRUE,FALSEで取り扱いたい場合、
   enumを使うのではなく、boolean型というデータ型を使います。
   また、備考欄にTRUEの場合どうするか明記するようにお願いします。

## products
- ジャケット画像のDEFAULTが画像準備中となっているが、画像準備中という文字列を
　出すのか、それとも準備中という画像を表示させるのか。
  > ジャケット画像のDEFAULTを画像準備中としていますが、データが入っていない際に
   画像準備中という文字列を出すという設計でしょうか？それとも、画像準備中という画像を
   用意してそれを表示させるのでしょうか？
- 在庫数カラムとあるが、この値は（入荷数）ー（売上枚数）で算出される値。 
　基本的にデータベースには計算ずみの値ではなく、計算前の値を保存させる。
 （同時計算による、エラーを防ぐため）
  > 在庫数カラムとありますが、こちら商品の入荷数と売上枚数から算出できるため不要です。
   基本的にデータベースには同時計算によるエラーを防ぐため、計算済みの値は入れず計算前の値を保存します。
- 在庫ステータスカラムは不要。
　（在庫数が0になれば非表示にするなどすれば良い）
  > 在庫ステータスは在庫数が0かどうかで判別できるため不要です。
- 販売状況に関するカラムがない。
  > 販売状況に関してはどのように取り扱いますか？

## songs,labels,artists,genres
- テーブル名と同じ名前のカラムを作ることは避ける。
　テーブル名から判別できるため、nameなどとすれば良い。
  > テーブル名と同じ名前のカラムは作らないでください。カラム名の見直しをお願いします。

## sells,sell_details
- こちらは受注情報を取り扱うため、orders,order_detailsといった
　命名の方が望ましい。（そもそもsell detailという言葉はない）
  > テーブル名の命名は管理者視点で行なってください。
   order、order_detailなどとすると良いです。

## sell_details
- 商品IDを持ってくると、商品情報が変更された場合にこちらの情報も
　変更されてしまう。（購入時の情報を保持できない）
  商品情報を保持するカラムが必要。
  > ここで商品IDを取得すると商品情報が変更された場合にこちらの情報も
   変更されてしまいます。購入後に商品情報が変わった場合にも購入時の情報
   が保持できるようにしてください。
- 親テーブルの外部キーがない。
  > sell_detailsテーブルはsellsテーブルの子になるテーブルのため、
   外部キーとしてsellsテーブルのIDを持つ必要があります。

## sells
- 支払い方法に関してenumで管理とあるが、どのようにenumで指定するのかが明記されていない。
　（備考欄に　0:クレジットカード,1:コンビニ払い,2:銀行振込,3:代引 のように記載する）
  > 支払い方法に関してenumで管理とありますが、具体的にどのようにenumで指定するのかが
   明記されていないので、備考欄の方に記載をお願いします。
- ship_tel,ship_codeは配送先ではなく、送付先ではないか。
（ship_addressの説明と統一する）
  > ship_tel,ship_codeの説明文が配送先となっていますが、こちら送付先ではないでしょうか。
   ship_addressの説明と統一するようにお願いします。
- 子モデルのidは不要。
  > 親のモデルに対して子のモデルのIDは不要です。
- totalでは何を格納するカラムか分かりづらい。pay_totalなどにしておく。
  > totalでは何を格納するカラムなのか分かりづらいため、カラム名の見直しをお願いします。

## cart items
- テーブル名、カラム名はスネークケースにする。
 （cart_item,buy_numにする）
  > テーブル名、カラム名には空白は使用できないのでスネークケースで命名してください。
- products_idではなくproduct_idにする。
  > 商品IDはproducts_idではなくproduct_idです。
   idは一意なので単数形で作られます。

## ships
- 主キーにindexがない
  > 主キーにINDEXがありません。主キーにはデフォルトでINDEXが設定されています。

## discs
- disc_numのdisc_は不要。（テーブル名から判別できる）
  > disc_numのdisc_はテーブル名から判断できるため不要です。
- products_idはproduct_idにする。
  > 商品IDはproducts_idではなくproduct_idです。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# 指摘事項
## ships
- 主キーにindexがない

## discs
- disc_numのdisc_は不要
- products_idはproduct_idにする。外部キーなので。

## cart items
- スネークケースが用いられていないカラムがあります。

合格です！！
