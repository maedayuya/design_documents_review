# テーブル定義書2
## 全体
- テーブル毎にシートを分ける。
- Railsで自動生成されるidが考慮されていない。
 （テーブル名idではなくidとする）
- idにはデフォルトでNOT NULL,AUTO INCREMENT,INDEXが
　付与されている。FKも同様。
- 入荷テーブルがない。
- カラム名の頭にテーブル名を付ける必要はない。（テーブル名から判別できる）

## admins
- created_at,updated_atのカラム説明が管理人となっているが、
　idの方では管理者と記載しているので管理者もしくは管理人に統一する。

## users
- 名前（性）ではなく（姓）
- member_statusをinteger型でenumを使って取り扱うとしているが、
　TRUE,FALSEでデータを取り扱いたい場合、データ型はboolean型を使う。
　また、備考欄にそれぞれTRUE,FALSEでデータをどのように取り扱うのかを記載する。
- カラム名に略語は使わない方が良い。
- member_statusだと何を表しているのか分かりづらい。

## products
- ジャケット画像のDEFAULTが画像準備中となっているが、画像準備中という文字列を
　出すのか、それとも準備中という画像を表示させるのか。
- 在庫数カラムとあるが、この値は（入荷数）ー（売上枚数）で算出される値。 
　基本的にデータベースには計算ずみの値ではなく、計算前の値を保存させる。
 （同時計算による、エラーを防ぐため）
- 在庫ステータスカラムは不要。
　（在庫数が0になれば非表示にするなどすれば良い）
- 販売状況に関するカラムがない。

## songs,labels,artists,genres
- テーブル名と同じ名前のカラムを作ることは避ける。
　テーブル名から判別できるため、nameなどとすれば良い。

## sells,sell_details
- こちらは受注情報を取り扱うため、orders,order_detailsといった
　命名の方が望ましい。（そもそもsell detailという言葉はない）

## sell_details
- 商品IDを持ってくると、商品情報が変更された場合にこちらの情報も
　変更されてしまう。（購入時の情報を保持できない）
  商品情報を保持するカラムが必要。
- 親テーブルの外部キーがない。

## sells
- 支払い方法に関してenumで管理とあるが、どのようにenumで指定するのかが明記されていない。
　（備考欄に　0:クレジットカード,1:コンビニ払い,2:銀行振込,3:代引 のように記載する）
- ship_tel,ship_codeは配送先ではなく、送付先ではないか。
（ship_addressの説明と統一する）
- 子モデルのidは不要。
- totalでは何を格納するカラムか分かりづらい。pay_totalなどにしておく。

## cart items
- テーブル名、カラム名はスネークケースにする。
- products_idではなくproduct_idにする。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# 指摘事項
## users
- カラムに略語は使わない方が良いです。
- member_statusだと何を表しているのかわかりづらいです。

## ships
- テーブル名から判断できるのでカラム名にshipを含める必要はありません。

## discs
- テーブル名から判断できるのでカラム名にdiscを含める必要はありません。

## songs,labels,artists,genres
- 曲名などを変更するのにテーブル名から判断できるのでsong_nameなどとするのは不適切です。

## sell_details
- 親テーブルの外部キーを持っていません。

## sells
- 子モデルのidは不要です。
- totalでは何を格納するカラムかわかりづらいです。
- 配送先情報として電話番号と郵便番号は必要です。また、まとめて保存するならshipsテーブルの外部キーを持つべきですが、これだとユーザーの登録されている住所が使用できません。

## cart items
- テーブル名にスネークケースが用いられていません。
- 外部キーのproducts_idは単数形が適切です。
- スネークケースが用いられていないカラムがあります。
